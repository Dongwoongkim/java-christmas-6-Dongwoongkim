# 프로그래밍 요구사항

### 추가된 요구 사항

- 아래 있는 `InputView`, `OutputView` 클래스를 참고하여 입출력 클래스를 구현한다.
    - 입력과 출력을 담당하는 클래스를 별도로 구현한다.
    - 해당 클래스의 패키지, 클래스명, 메서드의 반환 타입과 시그니처는 자유롭게 구현할 수 있다.

    ```java
    public class InputView {
        public int readDate() {
            System.out.println("12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)");
            String input = Console.readLine();
            // ...
        }
        // ...
    }
    
    ```

    ```java
    public class OutputView {
        public void printMenu() {
            System.out.println("<주문 메뉴>");
            // ...
        }
        // ...
    }
    
    ```

# 구현해야 할 기능 목록

# 🚩 View

## ✍🏻 **입력**

- 식당 방문 날짜 (1~31 사이의 숫자)
    - 유효성 검증 : 문자를 입력한 경우 “[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.” 에러메시지를 출력한다.
- 주문할 메뉴와 개수
    - Console.readLine()의 리턴타입이 String이므로, 별도의 유효성 검증은 이루어지지 않는다.

추가된 프로그래밍 요구사항에 맞게 InputView 클래스에서 입력값에 대한 안내문 출력이 이루어진다.

## 🖨️ 출력

- 주문 메뉴
    - 주문 메뉴의 출력 순서는 자유롭게 출력

```markdown
<주문 메뉴>
티본스테이크 1개
바비큐립 1개
초코케이크 2개
제로콜라 1개  
```

- 할인 전 총 주문 금액

```markdown
<할인 전 총주문 금액>
142,000원
```

- 증정 메뉴
    - 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 "없음"으로 출력

```markdown
- 증정메뉴를 받은 경우
  <증정 메뉴>
  샴페인 1개

- 증정메뉴를 받지 못한 경우
  <증정 메뉴>
  없음
```

- 혜택 내역 : 적용된 할인 정보와 할인받은 가격 출력
    - 혜택을 받은 경우 ‘받은 혜택’에 대해서만 출력
    - 혜택을 받지 못한 경우 “없음” 출력

```markdown
<혜택 내역>
크리스마스 디데이 할인 : -1,200원
평일 할인: -4,046원
특별 할인: -1,000원
증정 이벤트: -25,000원

<혜택 내역>
없음
```

- 총 혜택 금액 : 할인받은 가격 + (증정 메뉴를 받은 경우 증정 메뉴의 가격)

```markdown
- 혜택을 받은 경우
  <총 혜택 금액>
  -31,246원

- 혜택을 받지 못한 경우
  <총 혜택 금액>
  0원
```

- 할인 후 예상 결제 금액 : 할인 전 총주문 금액 - 할인 금액

```markdown
<할인 후 예상 결제 금액>
135,754원
```

- 12월 이벤트 배지
    - 이벤트 배지가 부여되지 않은 경우, “없음” 출력

```markdown
<12월 이벤트 배지>
산타
```

# 🚩 입력 값에 대한 유효성 검증/변환

## 검증 클래스

- 사용자가 입력한 방문 날짜가 ‘숫자’인지 유효성을 검증하는 클래스
    - 검증에 실패한 경우 커스텀한 예외가 발생하여 “`[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."` 예외 메시지가 출력된다.

## 변환 클래스

사용자가 입력한 주문에 대한 String을 변환하는 기능을 가진 클래스

1. Slicing : “,”을 기점으로 (주문메뉴-주문수량)으로 입력받은 String을 슬라이싱한다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/15d46b1d-5863-4b93-8e94-4dd64d973ba3/85ef73dd-d38f-4705-a68d-e8df2c0c6409/Untitled.png)

1. 슬라이싱한 값들을 List<String> 컬렉션 형태로 저장한다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/15d46b1d-5863-4b93-8e94-4dd64d973ba3/feac223e-43a7-4bdf-b263-32ef223219af/Untitled.png)

1. Mapping : List에 있는 값들을 “-”을 기점으로 나누어 원시값을 포장한 VO 객체로 만든다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/15d46b1d-5863-4b93-8e94-4dd64d973ba3/d8ad60fc-1d1f-40c9-a8f4-dac0b26680e8/Untitled.png)

1. Map에 담는다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/15d46b1d-5863-4b93-8e94-4dd64d973ba3/3ce44cd2-ceb2-4317-947a-3fbfb7cc8c63/Untitled.png)

# 🚩 Value Object

- “사용자가 입력한 값”을 파싱하여 불변 객체로 관리한다.
- ➡️ 방문 날짜, 주문한 음식, 주문한 음식의 개수

### 방문 날짜

- 방문 날짜에 대한 원시값을 포장하여 필드로 가진다.
- 사용자가 입력한 값이 1~31 사이인지 검증하여 검증에 성공한 경우 객체가 생성된다.
- 방문 날짜가 주말인지 검사하는 기능을 가진다. for 평일 이벤트, 주말 이벤트 할인 적용
- 방문 날짜가 25일 포함 이전인지 검사하는 기능을 가진다. for 디 데이 이벤트 할인 적용
- 방문 날짜가 스페셜 데이인지 검사하는 기능을 가진다.
    - 방문 날짜가 크리스마스 or 일요일 or 31일인 경우 스페셜 데이
    - 방문 날짜가 크리스마스인지 검사하는 기능을 가진다 for 스페셜 데이 검사
    - 방문 날짜가 일요일인지 검사하는 기능을 가진다 for 스페셜 데이 검사
    - 방문 날짜가 31일인지 검사하는 기능을 가진다 for 스페셜 데이 검사

### 주문 음식 이름

- 변환 클래스에 의해 생성된 주문 음식의 이름에 대한 원시값을 포장하고 있는 Value Object
- 주문 메뉴에 있는 메뉴인지 검증하여 검증에 통과된 경우 생성자가 동작한다.
    - 검증에 실패할 경우 “[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.” 메시지가 출력되고 생성자가 동작하지 않는다.
- 주문 음식이 음료 카테고리의 음식인지 검사하는 기능을 가진다. for 주문에 대한 모델 생성에서 ‘모든’ 음식이 음료 카테고리인지 검증
- 음식의 필드 값이 동일하면 두 음식은 동일 객체로 취급한다. for 주문에 대한 모델 생성에서 ‘중복’ 음식이 존재하는지 검증

### 주문 음식 개수

- 변환 클래스에 의해 생성된 주문 음식의 개수에 대한 원시값을 포장하고 있는 Value Object
- 값이 0인지 검증하여 검증에 통과된 경우 생성자가 동작한다.
    - 검증에 실패할 경우 “[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.” 메시지가 출력되고 생성자가 동작하지 않는다.
